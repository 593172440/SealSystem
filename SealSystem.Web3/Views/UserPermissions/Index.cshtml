@model IEnumerable<SealSystem.Models.UserPermissions>
@{
    if (!string.IsNullOrEmpty(HttpUtility.UrlDecode(Request.Cookies["ZXGC"].Value)))
    {
        List<string> list = JsonConvert.DeserializeObject<List<string>>(HttpUtility.UrlDecode(Request.Cookies["ZXGC"].Value));
        if (list.Any(m => m == Session["loginName"] + ":" + "权限管理:Add"))
        {
            ViewBag.add = Html.Raw("<h2><span class='glyphicon glyphicon-plus'></span>" + @Html.ActionLink("增加新权限", "Create") + "</h2>");
        }
    }
}
<div class="container body">
    <div class="main_container">
        <!--右上角头像区-->
        @Html.Partial("~/Views/Shared/_PartialTopHeadImages.cshtml");
        <!--/右上角头像区-->
        <!--顶部导航-->
        <div class="top_nav">
            <div class="nav_menu">
                @Html.Partial("~/Views/Shared/_PartialTopNavigation.cshtml");
            </div>
        </div>
        <!--/顶部导航 -->
        <!-- page content -->
        <div class="right_col" role="main" style=null>
            <div class="">
                <div class="page-title">
                    <div class="title_left">

                    </div>

                    <div class="title_right">
                        <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">

                        </div>
                    </div>
                </div>

                <div class="clearfix"></div>

                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel">
                            <div class="x_title">
                                @ViewBag.add
                                <ul class="nav navbar-right panel_toolbox">
                                    <li>
                                        <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                    </li>
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                                           aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                        <ul class="dropdown-menu" role="menu">
                                            <li>
                                                <a href="#">Settings 1</a>
                                            </li>
                                            <li>
                                                <a href="#">Settings 2</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a class="close-link"><i class="fa fa-close"></i></a>
                                    </li>
                                </ul>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                <table id="datatable" class="table table-striped table-bordered">
                                    <thead>
                                        <tr>
                                            <th>用户权限</th>
                                            <th>菜单权限</th>
                                            <th>是否增加</th>
                                            <th>是否编辑</th>
                                            <th>是否查看</th>
                                            <th>是否删除</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>

                                        @foreach (var item in Model)
                                        {
                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.User_Id)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Menu_Id)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Add)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Edit)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Details)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Delete)
                                                </td>
                                                <td>
                                                    @if (!string.IsNullOrEmpty(HttpUtility.UrlDecode(Request.Cookies["ZXGC"].Value)))
                                                    {
                                                        List<string> list = JsonConvert.DeserializeObject<List<string>>(HttpUtility.UrlDecode(Request.Cookies["ZXGC"].Value));
                                                        if (list.Any(m => m == Session["loginName"] + ":" + item.Menu_Id + ":Edit"))
                                                        {
                                                            @Html.ActionLink("编辑", "Edit", new { id = item.Id });
                                                            @Html.Raw(" | ");
                                                        }
                                                        if (list.Any(m => m == Session["loginName"] + ":" + item.Menu_Id + ":Details"))
                                                        {
                                                            @Html.ActionLink("查看", "Details", new { id = item.Id });
                                                            @Html.Raw(" | ");
                                                        }
                                                        if (list.Any(m => m == Session["loginName"] + ":" + item.Menu_Id + ":Delete"))
                                                        {
                                                            @Html.ActionLink("删除", "Delete", new { id = item.Id });
                                                        }
                                                    }
                                                </td>
                                            </tr>

                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /page content -->
        @Html.Partial("~/Views/Shared/_PartialFooter.cshtml");
    </div>
</div>